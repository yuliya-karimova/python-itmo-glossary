# Отчет о развертывании глоссария Backend-Driven UI

## Описание проекта

Реализован веб-сервис для управления глоссарием терминов по теме "Исследование Backend-Driven UI для быстрой доставки изменений интерфейса конечному пользователю". Сервис предоставляет REST API для управления терминами и их связями, а также интерактивный фронтенд для визуализации семантического графа терминов.

## Технологический стек

- **Backend**: FastAPI 0.104.1
- **База данных**: SQLite с автоматическими миграциями через SQLAlchemy
- **Валидация данных**: Pydantic 2.5.0
- **Фронтенд**: HTML5 + JavaScript (D3.js v7) для интерактивной визуализации графа
- **Контейнеризация**: Docker + Docker Compose
- **Веб-сервер**: Uvicorn (ASGI)

## Реализованные функции

### API Endpoints

#### Термины
- ✅ `GET /api/terms` - Получение списка всех терминов
- ✅ `GET /api/terms/{term_id}` - Получение информации о конкретном термине
- ✅ `GET /api/terms/search/{keyword}` - Поиск терминов по ключевому слову
- ✅ `POST /api/terms` - Добавление нового термина
- ✅ `PUT /api/terms/{term_id}` - Обновление существующего термина
- ✅ `DELETE /api/terms/{term_id}` - Удаление термина

#### Связи между терминами
- ✅ `GET /api/links` - Получение всех связей
- ✅ `POST /api/links` - Создание связи между терминами
- ✅ `DELETE /api/links/{link_id}` - Удаление связи

#### Граф для визуализации
- ✅ `GET /api/graph` - Получение полного графа терминов и связей в формате для визуализации

### Дополнительные возможности

- ✅ Автоматическая документация API через OpenAPI/Swagger (доступна по адресу `/docs`)
- ✅ Альтернативная документация ReDoc (доступна по адресу `/redoc`)
- ✅ Автоматическая инициализация базы данных при первом запуске
- ✅ Автоматический импорт данных из CSV файлов при первом запуске
- ✅ Интерактивная визуализация графа с возможностью поиска и фильтрации
- ✅ Валидация всех входных данных через Pydantic схемы

## Процесс развертывания

### Локальное развертывание

1. **Клонирование репозитория**:
```bash
git clone <repository-url>
cd python-itmo-glossary
```

2. **Установка зависимостей** (для локального запуска):
```bash
pip install -r requirements.txt
```

3. **Импорт данных**:
```bash
python app/import_data.py
```

4. **Запуск сервера**:
```bash
uvicorn app.main:app --reload
```

5. **Доступ к приложению**:
   - Фронтенд: http://localhost:8000
   - API документация: http://localhost:8000/docs
   - ReDoc: http://localhost:8000/redoc

### Развертывание с Docker

1. **Сборка образа**:
```bash
docker build -t python-itmo-glossary .
```

2. **Запуск через Docker Compose**:
```bash
docker compose up --build
```

3. **Доступ к приложению**:
   - Фронтенд: http://localhost:8000
   - API документация: http://localhost:8000/docs

### Развертывание на публичном сервере

#### Вариант 1: Yandex Cloud

1. Создайте Container Registry в Yandex Cloud
2. Соберите образ:
```bash
docker build -t cr.yandex/<registry-id>/python-itmo-glossary .
```
3. Загрузите образ:
```bash
docker push cr.yandex/<registry-id>/python-itmo-glossary
```
4. Создайте сервис в Yandex Cloud Run и укажите загруженный образ
5. Настройте публичный доступ

#### Вариант 2: VPS сервер

1. Подключитесь к серверу по SSH
2. Установите Docker и Docker Compose:
```bash
curl -fsSL https://get.docker.com -o get-docker.sh
sh get-docker.sh
```
3. Склонируйте репозиторий на сервер
4. Запустите приложение:
```bash
docker-compose up -d
```
5. Настройте Nginx как reverse proxy (опционально)

## Обоснование выбора формата контейнера

Выбран **Docker** как формат контейнеризации по следующим причинам:

### Преимущества Docker

1. **Универсальность**: Поддержка на всех основных платформах (Linux, Windows, macOS)
2. **Стандартизация**: Наиболее распространенный формат контейнеров
3. **Интеграция**: Легкая интеграция с CI/CD системами (GitHub Actions, GitLab CI, Jenkins)
4. **Экосистема**: Большое сообщество, обширная документация и множество готовых образов
5. **Производительность**: Эффективное использование ресурсов системы

### Анализ отечественных возможностей

Все основные российские облачные провайдеры поддерживают Docker:

- **Yandex Cloud**: Полная поддержка Docker через Container Registry и Cloud Run
- **VK Cloud Solutions**: Поддержка Docker контейнеров в облачной инфраструктуре
- **Selectel**: Поддержка Docker в облачных сервисах
- **Ростелеком Cloud**: Поддержка Docker контейнеров
- **МТС Cloud**: Поддержка Docker

Это делает Docker универсальным выбором, обеспечивающим возможность развертывания на любой из перечисленных платформ без изменений в коде.

## Структура проекта

```
python-itmo-glossary/
├── app/
│   ├── __init__.py              # Инициализация пакета
│   ├── main.py                  # FastAPI приложение и роутинг
│   ├── models.py                # SQLAlchemy модели БД
│   ├── schemas.py               # Pydantic схемы для валидации
│   ├── import_data.py          # Скрипт импорта из CSV
│   └── templates/
│       └── index.html           # Фронтенд с визуализацией графа
├── data/                        # Директория для SQLite БД
├── screenshots/                 # Скриншоты развернутого приложения
├── static/                      # Статические файлы (favicon)
├── terms.csv                    # Исходные данные терминов
├── links.csv                    # Исходные данные связей
├── Dockerfile                   # Конфигурация Docker образа
├── docker-compose.yml           # Конфигурация Docker Compose
├── requirements.txt             # Python зависимости
├── .dockerignore                # Исключения для Docker
├── .gitignore                   # Исключения для Git
├── README.md                    # Документация проекта
└── REPORT.md                    # Этот отчет
```

## Работа с API

### Примеры использования

#### Получить все термины
```bash
curl http://localhost:8000/api/terms
```

#### Добавить новый термин
```bash
curl -X POST http://localhost:8000/api/terms \
  -H "Content-Type: application/json" \
  -d '{
    "term": "Server-Driven UI",
    "definition": "Подход к разработке UI, где структура экрана задается сервером"
  }'
```

#### Поиск терминов
```bash
curl http://localhost:8000/api/terms/search/Backend
```

#### Создать связь между терминами
```bash
curl -X POST http://localhost:8000/api/links \
  -H "Content-Type: application/json" \
  -d '{
    "source": "Backend-Driven UI",
    "target": "Серверная модель экрана",
    "relation": "опирается на"
  }'
```

#### Получить граф для визуализации
```bash
curl http://localhost:8000/api/graph
```

## Визуализация графа

Фронтенд предоставляет интерактивную визуализацию семантического графа терминов:

- **Узлы графа**: Термины из глоссария
- **Ребра графа**: Связи между терминами с указанием типа связи
- **Интерактивность**:
  - Перетаскивание узлов
  - Поиск терминов
  - Подсветка связанных терминов при клике
  - Всплывающие подсказки с определениями

## Скриншоты развернутого приложения

Скриншоты развернутого приложения находятся в директории `screenshots/`.

### Адрес размещения

**Локальное развертывание:**
- Фронтенд: http://localhost:8000
- API документация: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc

**Публичное развертывание:**
https://python-itmo-glossary.onrender.com/

### Скриншоты интерфейса

1. **Главная страница с визуализацией графа** (`screenshots/main-page.png`)
   - Интерактивный граф терминов
   - Поиск по терминам
   - Всплывающие подсказки с определениями

2. **API документация (Swagger UI)** (`screenshots/api-docs.png`)
   - Автоматически сгенерированная документация
   - Интерактивное тестирование API
   - Описание всех endpoints

3. **Пример работы с API** (`screenshots/api-example.png`)
   - Создание нового термина
   - Получение списка терминов
   - Поиск терминов

## Заключение

Успешно реализован полнофункциональный веб-сервис для управления глоссарием терминов с поддержкой:

- ✅ Всех требуемых CRUD операций
- ✅ Валидации данных через Pydantic
- ✅ Автоматической документации API
- ✅ Контейнеризации через Docker
- ✅ SQLite базы данных с автоматическими миграциями
- ✅ Интерактивной визуализации семантического графа
- ✅ Готовности к развертыванию на публичных серверах

Приложение готово к использованию и может быть развернуто на любой платформе, поддерживающей Docker.

